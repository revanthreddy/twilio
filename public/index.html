<!doctype html>
<html>
	<head>
		<title>Line Chart</title>
		<script src="/js/Chart.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	</head>
	<body>
		<div style="width:30%">
			<div>
				<canvas id="canvas" height="450" width="600"></canvas>
			</div>
		</div>


	<script>




	window.onload = function(){
		var ctx = document.getElementById("canvas").getContext("2d");
		$.get( "/log", function( logs ) {

		//	alert( "Load was performed. "+data );

			console.log(logs.length);
			var xLabels = [];
			var yLabels = []
			for(var i = 0 ; i < logs.length ; i++){

				xLabels.push(i+1);

				yLabels.push(logs[i].weight);
			}
			var lineChartData = {
				labels : xLabels,
				datasets : [
					{
						label: "My First dataset",
						fillColor : "rgba(220,220,220,0.2)",
						strokeColor : "rgba(220,220,220,1)",
						pointColor : "rgba(220,220,220,1)",
						pointStrokeColor : "#fff",
						pointHighlightFill : "#fff",
						pointHighlightStroke : "rgba(220,220,220,1)",
						data : yLabels
					}
				]

			}
			window.myLine = new Chart(ctx).Line(lineChartData, {
				responsive: true
			});
		});

	}


	</script>
	</body>
</html>
